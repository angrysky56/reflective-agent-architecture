import numpy as np
from sklearn.linear_model import LinearRegression

data = [
    ({'x': -3.976910024134181, 'y': 1.4225347509553288, 'z': 9.207172863762644}, -4.9247),
    ({'x': 8.226565850777408, 'y': -0.01687753188497787, 'z': 3.8860111175886267}, -0.0248),
    ({'x': 0.9319946485296438, 'y': 9.070293466262907, 'z': -6.692752401105915}, -2.3735),
    ({'x': -3.6577323224324125, 'y': 7.26053612691765, 'z': 4.5081516496786165}, -5.1547),
    ({'x': 8.234752965575836, 'y': 8.497869540788244, 'z': -9.374238769755038}, 2.0206),
    ({'x': -2.5483400380163124, 'y': -0.9727096346377309, 'z': 4.818243927748572}, 3.7610),
    ({'x': -0.8883113773402975, 'y': -1.1768279504233128, 'z': 8.321559043107786}, 3.1404),
    ({'x': -2.3749765133597585, 'y': 6.914322084864686, 'z': 0.7343205064636926}, -4.3429),
    ({'x': 9.336127766644921, 'y': -2.3144102253473386, 'z': 6.474614292827052}, -2.7687),
    ({'x': 4.037824664878162, 'y': 3.8360448784150556, 'z': 6.644766392878804}, -0.3702)
]

X = np.array([[d[0]['x'], d[0]['y'], d[0]['z']] for d in data])
y = np.array([d[1] for d in data])

reg = LinearRegression().fit(X, y)
r2 = reg.score(X, y)
preds = reg.predict(X)
residuals = y - preds
mse = np.mean(residuals**2)

print(f"R^2 Score: {r2}")
print(f"MSE: {mse}")
print(f"Coefficients: {reg.coef_}")
print(f"Intercept: {reg.intercept_}")
print("Residuals:", residuals)
